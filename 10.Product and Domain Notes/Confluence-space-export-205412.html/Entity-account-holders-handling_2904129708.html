<!DOCTYPE html>
<html>
    <head>
        <title>Jackson Fan : Entity account holders handling</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jackson Fan</a></span>
                            </li>
                                                    <li>
                                <span><a href="JF-Space-Overview_2554888272.html">JF Space Overview</a></span>
                            </li>
                                                    <li>
                                <span><a href="4.-Service-Portal-Related_2555510852.html">4. Service Portal Related</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jackson Fan : Entity account holders handling
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Jackson Fan</span> on 12-12-24
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Certainly! When dealing with <strong>entity account holders</strong> (organizations holding the account) for <strong>FATCA (Foreign Account Tax Compliance Act)</strong> reporting, it's crucial to meticulously populate each section to ensure compliance and accuracy. Below is a detailed guide on how to fill in each of the specified sections for an <strong>organization account holder</strong>.</p><hr/><h2 id="Entityaccountholdershandling-1.OperationandReportingDetails"><strong>1. Operation and Reporting Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:"><strong>Purpose:</strong></h3><p>Defines the nature of the operation and the jurisdiction under which the report is being made.</p><h3 id="Entityaccountholdershandling-Components:"><strong>Components:</strong></h3><ul><li><p><strong>Operation Type:</strong></p><ul><li><p><strong>Value:</strong> <code>'N'</code> for <strong>New File</strong> as per IDES 2.0 FATCA Account Import v3.19 requirements.</p></li></ul></li><li><p><strong>Reporting Jurisdiction Country Code:</strong></p><ul><li><p><strong>Value:</strong> <code>'NZ'</code> for <strong>New Zealand</strong>.</p></li><li><p><strong>Note:</strong> Ensure this matches the jurisdiction where the reporting entity operates.</p></li></ul></li><li><p><strong>Recipient ID:</strong></p><ul><li><p><strong>Value:</strong> A unique identifier, typically a concatenation of <code>AccountID</code> and <code>PortfolioNo</code>.</p></li><li><p><strong>Example:</strong> <code>CONVERT(VARCHAR(MAX), ah.[AccountID]) + CONVERT(VARCHAR(MAX), ah.[PortfolioNo])</code></p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-2.ReportableAccountType"><strong>2. Reportable Account Type</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.1"><strong>Purpose:</strong></h3><p>Classifies the account based on FATCA definitions to determine the reporting obligations.</p><h3 id="Entityaccountholdershandling-Components:.1"><strong>Components:</strong></h3><ul><li><p><strong>Reportable Account Type (Including Pooled Reporting):</strong></p><ul><li><p><strong>Values:</strong></p><ul><li><p><code>'2'</code> – <strong>Passive NFFE with Substantial U.S. Owners / Controlling Persons (FATCA102)</strong></p></li><li><p><code>'3'</code> – <strong>Active NFFE or Requires Further Review</strong> (for entities missing TINs)</p></li><li><p><code>'4'</code> – <strong>Specified Person - Individual (FATCA104)</strong> (not applicable for entities)</p></li><li><p><code>'ERROR'</code> – For unexpected or misclassified cases.</p></li></ul></li></ul></li><li><p><strong>Logic for Determination:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ah.[AccountType] IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
         AND ah.[TradingEntityType] NOT IN (&#39;Individual&#39;, &#39;Joint&#39;, &#39;Minor Under 18 yrs&#39;)
         AND ah.dsl_BeneficialOwner = 1 
         AND ah.SubstantialControllingInterest = 1 
         AND ah.EntityTIN IS NOT NULL
    THEN &#39;2&#39; -- Passive NFFE with Substantial U.S. Owners / Controlling Persons (FATCA102)

    WHEN ah.[AccountType] IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
         AND ah.[TradingEntityType] NOT IN (&#39;Individual&#39;, &#39;Joint&#39;, &#39;Minor Under 18 yrs&#39;)
         AND ah.dsl_BeneficialOwner = 1 
         AND ah.SubstantialControllingInterest = 1 
         AND ah.EntityTIN IS NULL
    THEN &#39;3&#39; -- Active NFFE or Requires Further Review

    ELSE &#39;ERROR&#39;
END AS &#39;Reportable Account Type (Including Pooled Reporting)&#39;,
</pre>
</div></div></li><li><p><strong>Handling Missing Entity TINs:</strong></p><ul><li><p><strong>'2'</strong> for entities with substantial U.S. owners and a valid TIN.</p></li><li><p><strong>'3'</strong> for entities with substantial U.S. owners but missing TINs, indicating a need for further review.</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-3.Filer/SponsoredEntityInformation"><strong>3. Filer / Sponsored Entity Information</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.2"><strong>Purpose:</strong></h3><p>Identifies the entity responsible for filing the FATCA report.</p><h3 id="Entityaccountholdershandling-Components:.2"><strong>Components:</strong></h3><ul><li><p><strong>Filer / Sponsored Entity Short Name:</strong></p><ul><li><p><strong>Value:</strong> Concatenation of <code>TradingEntityType</code> with <code>'_FATCA'</code>.</p></li><li><p><strong>Example:</strong> <code>CAST(ad.ReportingEntityType AS VARCHAR(10)) + '_FATCA'</code></p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-4.AccountNumberDetails"><strong>4. Account Number Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.3"><strong>Purpose:</strong></h3><p>Provides unique identifiers and types for the account being reported.</p><h3 id="Entityaccountholdershandling-Components:.3"><strong>Components:</strong></h3><ul><li><p><strong>Account Number:</strong></p><ul><li><p><strong>Value:</strong> Typically the <code>PortfolioNo</code>.</p></li><li><p><strong>Example:</strong> <code>ad.PortfolioNo AS 'Account Number'</code></p></li></ul></li><li><p><strong>Account Number Type:</strong></p><ul><li><p><strong>Value:</strong> Usually blank unless a specific type is designated.</p></li><li><p><strong>Example:</strong> <code>NULL AS 'Account Number Type'</code></p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-5.PortfolioServiceLevelInformation"><strong>5. Portfolio Service Level Information</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.4"><strong>Purpose:</strong></h3><p>Details the service level associated with the portfolio, though not directly reported to FATCA.</p><h3 id="Entityaccountholdershandling-Components:.4"><strong>Components:</strong></h3><ul><li><p><strong>PortfolioServiceLevelName:</strong></p><ul><li><p><strong>Value:</strong> Name of the portfolio service level.</p></li><li><p><strong>Example:</strong> <code>ad.PortfolioServiceLevelName AS 'PortfolioServiceLevelName'</code></p></li></ul></li><li><p><strong>ReportingEntityType:</strong></p><ul><li><p><strong>Value:</strong> Type of the trading entity.</p></li><li><p><strong>Example:</strong> <code>ad.TradingEntityType AS 'ReportingEntityType'</code></p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-6.AccountDescriptionsandStatuses"><strong>6. Account Descriptions and Statuses</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.5"><strong>Purpose:</strong></h3><p>Indicates the operational status of the account, such as whether it was closed during the reporting year.</p><h3 id="Entityaccountholdershandling-Components:.5"><strong>Components:</strong></h3><ul><li><p><strong>Account Description:</strong></p><ul><li><p><strong>Value:</strong> <code>'True'</code> if the account was closed during the year; otherwise, blank.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ISDATE(ehm.ClosureDate) = 1
    THEN CASE
             WHEN CONVERT(DATETIME, ehm.ClosureDate) &lt; GETDATE()
             THEN &#39;True&#39;
             ELSE &#39;&#39;
         END
    ELSE &#39;&#39;
END AS &#39;Account Description&#39;,
</pre>
</div></div></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-7.AccountHolderInformationandTINs"><strong>7. Account Holder Information and TINs</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.6"><strong>Purpose:</strong></h3><p>Provides tax identification details of the account holder.</p><h3 id="Entityaccountholdershandling-Components:.6"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder Tax Jurisdiction Code:</strong></p><ul><li><p><strong>Values:</strong></p><ul><li><p><code>'NZ'</code> for entities (organization account holders).</p></li><li><p><code>'US'</code> for individual account holders with U.S. tax residency.</p></li><li><p>Blank for others.</p></li></ul></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE 
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;) 
        THEN &#39;NZ&#39;
    WHEN ehm.AccountType = &#39;Single TIN Individual&#39; 
        THEN &#39;US&#39;
    WHEN ehm.AccountType = &#39;Multiple TINs Individual&#39; 
        THEN 
            CASE 
                WHEN ehm.CountryofTaxResidency = &#39;US&#39; 
                    THEN &#39;US&#39;
                ELSE &#39;&#39; 
            END
    ELSE &#39;&#39;
END AS &#39;Account Holder Tax Jurisdiction Code&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Account Holder TIN:</strong></p><ul><li><p><strong>Values:</strong></p><ul><li><p><strong>Entities:</strong> Use <code>EntityTIN</code> if available; otherwise, <code>'NA'</code>.</p></li><li><p><strong>Individuals:</strong> Use <code>cip_Identification</code> (individual TIN) if available; otherwise, <code>'999999999'</code> for U.S. individuals or <code>'NA'</code> for non-U.S.</p></li></ul></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE 
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;) THEN 
        CASE 
            WHEN ehm.EntityTIN IS NOT NULL THEN ehm.EntityTIN
            ELSE &#39;NA&#39; -- Placeholder for missing TINs
        END
    ELSE
        CASE
            WHEN ehm.cip_Identification IS NOT NULL THEN ehm.cip_Identification
            ELSE &#39;999999999&#39; -- Placeholder for missing Individual TINs
        END
END AS &#39;Account Holder TIN&#39;,
</pre>
</div></div></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-8.IssuedByCountryCodes"><strong>8. Issued By Country Codes</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.7"><strong>Purpose:</strong></h3><p>Specifies the country that issued the TIN for the account holder.</p><h3 id="Entityaccountholdershandling-Components:.7"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder TIN Issued By Country Code:</strong></p><ul><li><p><strong>Value:</strong> <code>TaxCountry1</code>, ensuring it matches the ISO 2-digit country code.</p></li><li><p><strong>Example:</strong> <code>ehm.TaxCountry1 AS 'Account Holder TIN Issued By Country Code'</code></p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-9.AccountHolderInformationContinued"><strong>9. Account Holder Information Continued</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.8"><strong>Purpose:</strong></h3><p>Additional identification details for the account holder, typically left blank for entities.</p><h3 id="Entityaccountholdershandling-Components:.8"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-10.AccountHolderOrganizationDetails"><strong>10. Account Holder Organization Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.9"><strong>Purpose:</strong></h3><p>Provides the name and type details of the organization holding the account.</p><h3 id="Entityaccountholdershandling-Components:.9"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder Organization Name:</strong></p><ul><li><p><strong>Value:</strong> <code>EntityName</code> for entity account holders; blank for individuals.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
    THEN ehm.EntityName
    ELSE &#39;&#39;
END AS &#39;Account Holder Organization Name&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Account Holder Organization Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Preceding Title &amp; Title:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-11.AccountHolderPersonalDetails"><strong>11. Account Holder Personal Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.10"><strong>Purpose:</strong></h3><p>Captures personal name details for individual account holders; left blank for entities.</p><h3 id="Entityaccountholdershandling-Components:.10"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder First Name:</strong></p><ul><li><p><strong>Value:</strong> <code>FirstName</code> for individuals; blank for entities.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
    THEN &#39;&#39;
    ELSE ehm.FirstName
END AS &#39;Account Holder First Name&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Account Holder First Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Middle Name:</strong></p><ul><li><p><strong>Value:</strong> <code>MiddleName</code> for individuals; blank for entities.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
    THEN &#39;&#39;
    ELSE ISNULL(ehm.MiddleName, &#39;&#39;) 
END AS &#39;Account Holder Middle Name&#39;, 
</pre>
</div></div></li></ul></li><li><p><strong>Account Holder Middle Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Name Prefix &amp; Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Last Name:</strong></p><ul><li><p><strong>Value:</strong> <code>LastName</code> for individuals; blank for entities.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
    THEN &#39;&#39;
    ELSE ehm.LastName 
END AS &#39;Account Holder Last Name&#39;, 
</pre>
</div></div></li></ul></li><li><p><strong>Account Holder Last Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Additional Personal Name Fields:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-12.AccountHolderAddressDetails"><strong>12. Account Holder Address Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.11"><strong>Purpose:</strong></h3><p>Consolidates the residential address of the account holder.</p><h3 id="Entityaccountholdershandling-Components:.11"><strong>Components:</strong></h3><ul><li><p><strong>Account Holder Address Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Address Country Code:</strong></p><ul><li><p><strong>Value:</strong> <code>TaxCodeCountryISO</code>, ensuring it matches the ISO 2-digit country code.</p></li><li><p><strong>Example:</strong> <code>ISNULL(ehm.TaxCodeCountryISO, '') AS 'Account Holder Address Country Code'</code></p></li></ul></li><li><p><strong>Account Holder Address Free:</strong></p><ul><li><p><strong>Value:</strong> Concatenation of residential address lines.</p></li><li><p><strong>Example:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ISNULL(ehm.ResidentialAddressLine1, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialAddressLine2, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialAddressLine3, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialCity, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialPostalCode, &#39;&#39;) AS &#39;Account Holder Address Free&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Fixed Address Components:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Account Holder Birth Date:</strong></p><ul><li><p><strong>Value:</strong> <code>DOB</code> for individuals; blank for entities.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;)
    THEN &#39;&#39;
    ELSE ISNULL(ehm.DOB, &#39;&#39;) 
END AS &#39;Account Holder Birth Date&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Non-FATCA Related Fields:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-13.SubstantialU.S.Owner&#39;sInformation"><strong>13. Substantial U.S. Owner's Information</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.12"><strong>Purpose:</strong></h3><p>Identifies the type of substantial U.S. owner or controlling person associated with the account.</p><h3 id="Entityaccountholdershandling-Components:.12"><strong>Components:</strong></h3><ul><li><p><strong>Substantial U.S. Owner's Type:</strong></p><ul><li><p><strong>Values:</strong></p><ul><li><p><code>'1'</code> – <strong>Individual</strong> (for entity account holders)</p></li><li><p>Blank (<code>''</code>) – <strong>Not applicable</strong> for individual account holders.</p></li></ul></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ah.[AccountType] IN (&#39;Single TIN Individual&#39;, &#39;Multiple TINs Individual&#39;)
        THEN &#39;&#39;  -- Individual account holders: field not applicable
    ELSE &#39;1&#39;      -- Entity account holders: always use &#39;1&#39; (Individual)
END AS &#39;Substantial U.S. Owner&#39;&#39;s Type&#39;,
</pre>
</div></div></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-14.SubstantialU.S.Owner/ControllingPersonTaxDetails"><strong>14. Substantial U.S. Owner / Controlling Person Tax Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.13"><strong>Purpose:</strong></h3><p>Provides tax jurisdiction and identification details for the substantial U.S. owner or controlling person.</p><h3 id="Entityaccountholdershandling-Components:.13"><strong>Components:</strong></h3><ul><li><p><strong>Substantial U.S. Owner Tax Country Code:</strong></p><ul><li><p><strong>Values:</strong></p><ul><li><p><code>'US'</code> if the owner resides in the U.S.</p></li><li><p>Blank (<code>''</code>) otherwise.</p></li></ul></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Layered Entity&#39;, &#39;Normal Entity&#39;) AND ehm.TaxCountry1 = &#39;US&#39;
        THEN &#39;US&#39;
    ELSE &#39;&#39;
END AS &#39;Substantial U.S. Owner Tax Country Code&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person TIN:</strong></p><ul><li><p><strong>Value:</strong> <code>cip_Identification</code> if available; otherwise, blank or placeholder.</p></li><li><p><strong>Example:</strong> <code>ISNULL(ehm.cip_Identification, '') AS 'Substantial U.S. Owner / Controlling Person TIN'</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person TIN Issued By:</strong></p><ul><li><p><strong>Value:</strong> <code>TaxCountry1</code> or <code>'US'</code> if <code>TaxCountry1</code> is null.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.AccountType IN (&#39;Single TIN Individual&#39;, &#39;Multiple TINs Individual&#39;)
        THEN &#39;&#39;   -- Individuals: Not applicable, leave blank
    ELSE ISNULL(ehm.TaxCountry1, &#39;US&#39;)  -- Entities: Use TaxCountry1 or &#39;US&#39; if null
END AS &#39;Substantial U.S. Owner / Controlling Person TIN Issued By&#39;,
</pre>
</div></div></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-15.SubstantialU.S.Owner/ControllingPersonPersonalDetails"><strong>15. Substantial U.S. Owner / Controlling Person Personal Details</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.14"><strong>Purpose:</strong></h3><p>Captures personal name and address details of the substantial U.S. owner or controlling person.</p><h3 id="Entityaccountholdershandling-Components:.14"><strong>Components:</strong></h3><ul><li><p><strong>Substantial U.S. Owner Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Organization Name:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Organization Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Preceding Title &amp; Title:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person First Name:</strong></p><ul><li><p><strong>Value:</strong> <code>FirstName</code> if available; otherwise, blank.</p></li><li><p><strong>Example:</strong> <code>ISNULL(ehm.FirstName, '') AS 'Substantial U.S. Owner / Controlling Person First Name'</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person First Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Middle Name:</strong></p><ul><li><p><strong>Value:</strong> <code>MiddleName</code> if available; otherwise, blank.</p></li><li><p><strong>Example:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ISNULL(ehm.MiddleName, &#39;&#39;) AS &#39;Substantial U.S. Owner / Controlling Person Middle Name&#39;, 
</pre>
</div></div></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Middle Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Name Prefix &amp; Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Last Name:</strong></p><ul><li><p><strong>Value:</strong> <code>LastName</code> if available; otherwise, blank.</p></li><li><p><strong>Example:</strong> <code>ISNULL(ehm.LastName, '') AS 'Substantial U.S. Owner / Controlling Person Last Name'</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Last Name Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Generation Identifier, Suffix, General Suffix:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Address Type:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Person Address Country Code:</strong></p><ul><li><p><strong>Value:</strong> <code>TaxCodeCountryISO</code> or relevant country code.</p></li><li><p><strong>Example:</strong> <code>ISNULL(ehm.TaxCodeCountryISO, '') AS 'Substantial U.S. Person Address Country Code'</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Address Free 1:</strong></p><ul><li><p><strong>Value:</strong> Concatenation of residential address lines.</p></li><li><p><strong>Example:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ISNULL(ehm.ResidentialAddressLine1, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialAddressLine2, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialAddressLine3, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialCity, &#39;&#39;) + &#39; &#39; + 
ISNULL(ehm.ResidentialPostalCode, &#39;&#39;) AS &#39;Substantial U.S. Owner / Controlling Person Address Free 1&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Substantial U.S. Person Fixed Address Components:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Nationality:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Birth Date:</strong></p><ul><li><p><strong>Value:</strong> <code>DOB</code> if available; otherwise, blank.</p></li><li><p><strong>Example:</strong> <code>ISNULL(CONVERT(VARCHAR, ehm.DOB, 101), '') AS 'Substantial U.S. Owner / Controlling Person Birth Date',</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Place of Birth (POB) Fields:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-16.FinancialInformation"><strong>16. Financial Information</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.15"><strong>Purpose:</strong></h3><p>Details the financial aspects of the account, including balances and transactions.</p><h3 id="Entityaccountholdershandling-Components:.15"><strong>Components:</strong></h3><ul><li><p><strong>Account Balance:</strong></p><ul><li><p><strong>Value:</strong> Set to <code>0</code> if the balance is negative or zero; otherwise, use the actual balance.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE 
    WHEN ehm.AccountBalance &lt;= 0 THEN 0 
    ELSE ehm.AccountBalance 
END AS &#39;Account Balance&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Account Currency Code:</strong></p><ul><li><p><strong>Value:</strong> ISO currency code (e.g., <code>'NZD'</code>).</p></li><li><p><strong>Example:</strong> <code>ehm.AccountCurrencyCode AS 'Account Currency Code'</code></p></li></ul></li><li><p><strong>Interest:</strong></p><ul><li><p><strong>Value:</strong> Set to <code>0</code> if interest is negative or zero; otherwise, use the actual interest amount.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE 
    WHEN ehm.Interest &lt;= 0 THEN 0 
    ELSE ehm.Interest 
END AS &#39;Interest&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Interest Currency Code:</strong></p><ul><li><p><strong>Value:</strong> ISO currency code for interest (same as account currency).</p></li><li><p><strong>Example:</strong> <code>ehm.AccountCurrencyCode AS 'Interest Currency Code'</code></p></li></ul></li><li><p><strong>Payment Type Description Interest:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Dividends:</strong></p><ul><li><p><strong>Value:</strong> Set to <code>0</code> if dividends are negative or zero; otherwise, use the actual dividends amount.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.Dividends &lt;= 0 THEN 0
    ELSE ehm.Dividends
END AS &#39;Dividends&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Dividends Currency Code:</strong></p><ul><li><p><strong>Value:</strong> ISO currency code (same as account currency).</p></li><li><p><strong>Example:</strong> <code>ehm.AccountCurrencyCode AS 'Dividends Currency Code'</code></p></li></ul></li><li><p><strong>Payment Type Description Dividends:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Gross Proceeds/Redemptions:</strong></p><ul><li><p><strong>Value:</strong> Set to <code>0</code> if gross proceeds/redemptions are negative or zero; otherwise, use the actual amount.</p></li><li><p><strong>Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE
    WHEN ehm.GrossProceedsRedemptions &lt;= 0 THEN 0
    ELSE ehm.GrossProceedsRedemptions
END AS &#39;Gross Proceeds_Redemptions&#39;,
</pre>
</div></div></li></ul></li><li><p><strong>Gross Proceeds/Redemptions Currency Code:</strong></p><ul><li><p><strong>Value:</strong> ISO currency code (same as account currency).</p></li><li><p><strong>Example:</strong> <code>ehm.AccountCurrencyCode AS 'Gross Proceeds_Redemptions Currency Code'</code></p></li></ul></li><li><p><strong>Payment Type Description Gross Proceeds/Redemptions:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Other:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Other Currency Code:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Payment Type Description Other:</strong></p><ul><li><p><strong>Value:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Pooled Reporting Type &amp; Number of Accounts:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-17.AggregatedFields"><strong>17. Aggregated Fields</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.16"><strong>Purpose:</strong></h3><p>Reserved for aggregated financial data, typically for specific account types not applicable to entities.</p><h3 id="Entityaccountholdershandling-Components:.16"><strong>Components:</strong></h3><ul><li><p><strong>Aggregate Payment Amount, Aggregate Account Balance, Aggregate Account Interest, Aggregate Account Dividends, Aggregate Account Currency Code:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-18.OtherRequiredInformation"><strong>18. Other Required Information</strong></h2><h3 id="Entityaccountholdershandling-Purpose:.17"><strong>Purpose:</strong></h3><p>Includes additional required information and internal tags not submitted to the IRS.</p><h3 id="Entityaccountholdershandling-Components:.17"><strong>Components:</strong></h3><ul><li><p><strong>Item Name, Item Content, Line of Business, Level 1, Level 2:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Business Unit, Business Sub Unit, Business Sub Unit 2:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Custom Fields (Custom 1 to Custom 13):</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ul><hr/><h2 id="Entityaccountholdershandling-AdditionalConsiderations"><strong>Additional Considerations</strong></h2><h3 id="Entityaccountholdershandling-DataQualityIssues:HandlingMissingEntityTINs"><strong>Data Quality Issues: Handling Missing Entity TINs</strong></h3><ul><li><p><strong>Issue:</strong></p><ul><li><p><strong>Missing </strong><code>EntityTIN</code><strong>:</strong> Can lead to incorrect classification and reporting.</p></li></ul></li><li><p><strong>Solution:</strong></p><ul><li><p><strong>Use Placeholders:</strong></p><ul><li><p><code>'NA'</code> for missing TINs to indicate non-availability.</p></li><li><p><code>'999999999'</code> as a placeholder for missing individual TINs for U.S. persons.</p></li></ul></li><li><p><strong>Flag for Review:</strong></p><ul><li><p>Implement logging mechanisms to flag accounts with missing TINs for manual review.</p></li></ul></li></ul></li><li><p><strong>Example Placeholder Logic:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CASE 
    WHEN ehm.EntityTIN IS NOT NULL THEN ehm.EntityTIN
    ELSE &#39;NA&#39; -- Placeholder for missing TINs
END AS &#39;Account Holder TIN&#39;,
</pre>
</div></div></li></ul><h3 id="Entityaccountholdershandling-ErrorHandlingandLogging"><strong>Error Handling and Logging</strong></h3><ul><li><p><strong>Implement TRY...CATCH Blocks:</strong></p><ul><li><p>Capture and log runtime errors to an <code>ErrorLog</code> table for troubleshooting.</p></li></ul></li><li><p><strong>Example Implementation:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">BEGIN TRY
    -- Your SELECT and INSERT statements here
END TRY
BEGIN CATCH
    INSERT INTO ErrorLog (ErrorNumber, ErrorMessage, ErrorProcedure, ErrorLine, ErrorDate)
    VALUES (ERROR_NUMBER(), ERROR_MESSAGE(), ERROR_PROCEDURE(), ERROR_LINE(), GETDATE())
    THROW -- Optional: Rethrow the error for further handling
END CATCH
</pre>
</div></div></li></ul><h3 id="Entityaccountholdershandling-PreventingDuplicationDuetoMultipleForeignTaxRecords"><strong>Preventing Duplication Due to Multiple Foreign Tax Records</strong></h3><ul><li><p><strong>Solution:</strong></p><ul><li><p><strong>Use ROW_NUMBER() to Select the Most Relevant Record:</strong></p><ul><li><p>Assign a row number partitioned by <code>AccountId</code> and ordered by relevance to select the top record.</p></li></ul></li></ul></li><li><p><strong>Example Implementation:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">, ROW_NUMBER() OVER (PARTITION BY ehm.AccountID ORDER BY ft.cip_CountryJurisdiction DESC) AS rn
FROM #EntitiesWithMissingFT ehm
LEFT JOIN [CRM_MSCRM].dbo.cip_foreigntaxrecordBase ft
    ON ehm.AccountId = ft.cip_Entity
LEFT JOIN [CRM_MSCRM].dbo.dsl_countryBase cc
    ON cc.dsl_countryid = ft.cip_CountryJurisdiction
    AND cc.statuscode = 1
WHERE ehm.[Reportable Account Type (Including Pooled Reporting)] &lt;&gt; &#39;ERROR&#39;
)
WHERE rn = 1
</pre>
</div></div></li></ul><h3 id="Entityaccountholdershandling-PerformanceOptimization"><strong>Performance Optimization</strong></h3><ul><li><p><strong>Ensure Proper Indexing:</strong></p><ul><li><p>Index key columns such as <code>AccountId</code>, <code>ContactId</code>, <code>CountryJurisdiction</code>, and <code>TradingEntityID</code> to speed up joins and lookups.</p></li></ul></li><li><p><strong>Limit Data Retrieval:</strong></p><ul><li><p>Select only necessary columns to reduce data processing overhead.</p></li></ul></li><li><p><strong>Analyze Execution Plans:</strong></p><ul><li><p>Use SQL Server's Execution Plan feature to identify and optimize slow-performing parts of the query.</p></li></ul></li></ul><h3 id="Entityaccountholdershandling-StandardizingNamingConventions"><strong>Standardizing Naming Conventions</strong></h3><ul><li><p><strong>Consistency:</strong></p><ul><li><p>Use a consistent naming convention (e.g., <code>CamelCase</code>) for aliases and column names to enhance readability.</p></li></ul></li><li><p><strong>Clear and Descriptive Aliases:</strong></p><ul><li><p>Ensure that aliases accurately reflect their corresponding fields and are free from typos.</p></li></ul></li><li><p><strong>Example Correction:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">, ISNULL(i.Address2_Line3, &#39;&#39;) AS &#39;PostalAddressLine3&#39; -- Corrected from &#39;Postal Address_Line3&#39;
</pre>
</div></div></li></ul><hr/><h2 id="Entityaccountholdershandling-ExampleMappingforanOrganizationAccountHolder"><strong>Example Mapping for an Organization Account Holder</strong></h2><p>Let's map the details of <strong>Example 2: Corporate Entity with Foreign Ownership and Complex Financial Instruments</strong> to the outlined sections.</p><h3 id="Entityaccountholdershandling-AccountHolderSection:"><strong>Account Holder Section:</strong></h3><ul><li><p><strong>Entity Name:</strong> GlobalTech Solutions Ltd.</p></li><li><p><strong>Entity Type:</strong> Corporation</p></li><li><p><strong>TIN:</strong> 98-7654321</p></li><li><p><strong>Country of Incorporation:</strong> Cayman Islands</p></li><li><p><strong>Primary Tax Domicile:</strong> Cayman Islands</p></li></ul><h3 id="Entityaccountholdershandling-SubstantialControllingPersonsSection:"><strong>Substantial Controlling Persons Section:</strong></h3><ul><li><p><strong>Person C:</strong> Maria Garcia (CEO, US Citizen, TIN: 555-55-5555, Ownership: 30%)</p></li><li><p><strong>Person D:</strong> Li Wei (Major Shareholder, Non-US Citizen, Ownership: 25%)</p></li><li><p><strong>Person E:</strong> Ahmed Khan (Board Member, US Citizen, TIN: 444-44-4444, Ownership: 20%)</p></li></ul><h3 id="Entityaccountholdershandling-FinancialInformationSection:"><strong>Financial Information Section:</strong></h3><ul><li><p><strong>Account Balance:</strong> €10,000,000</p></li><li><p><strong>Account Currency:</strong> EUR</p></li><li><p><strong>Financial Instruments Held:</strong> Derivatives, Foreign Bonds</p></li><li><p><strong>Financial Institution:</strong> ABC International Bank</p></li><li><p><strong>Account Opening Date:</strong> 2018-06-30</p></li><li><p><strong>Account Status:</strong> Active</p></li></ul><h3 id="Entityaccountholdershandling-FATCAReportingMapping:"><strong>FATCA Reporting Mapping:</strong></h3><ol start="1"><li><p><strong>Operation and Reporting Details:</strong></p><ul><li><p><strong>Operation Type:</strong> <code>'N'</code></p></li><li><p><strong>Reporting Jurisdiction Country Code:</strong> <code>'NZ'</code></p></li><li><p><strong>Recipient ID:</strong> <code>AccountID + PortfolioNo</code> (e.g., <code>'12345PORT'</code>)</p></li></ul></li><li><p><strong>Reportable Account Type:</strong></p><ul><li><p><strong>Logic:</strong> Entity account with substantial U.S. owners (<code>Person C</code> and <code>Person E</code>).</p></li><li><p><strong>Value:</strong> <code>'2'</code> (Passive NFFE with Substantial U.S. Owners / Controlling Persons)</p></li></ul></li><li><p><strong>Filer / Sponsored Entity Information:</strong></p><ul><li><p><strong>Value:</strong> <code>'Corporation_FATCA'</code></p></li></ul></li><li><p><strong>Account Number Details:</strong></p><ul><li><p><strong>Account Number:</strong> <code>PortfolioNo</code> (e.g., <code>'PORT123'</code>)</p></li><li><p><strong>Account Number Type:</strong> <code>NULL</code></p></li></ul></li><li><p><strong>Portfolio Service Level Information:</strong></p><ul><li><p><strong>PortfolioServiceLevelName:</strong> <code>'Standard Service'</code></p></li><li><p><strong>ReportingEntityType:</strong> <code>'Corporation'</code></p></li></ul></li><li><p><strong>Account Descriptions and Statuses:</strong></p><ul><li><p><strong>Account Description:</strong> Blank (if active)</p></li></ul></li><li><p><strong>Account Holder Information and TINs:</strong></p><ul><li><p><strong>Account Holder Tax Jurisdiction Code:</strong> <code>'NZ'</code> (entity)</p></li><li><p><strong>Account Holder TIN:</strong> <code>'98-7654321'</code> (valid)</p></li></ul></li><li><p><strong>Issued By Country Codes:</strong></p><ul><li><p><strong>Value:</strong> <code>'CAY'</code> (ISO code for Cayman Islands)</p></li></ul></li><li><p><strong>Account Holder Information Continued:</strong></p><ul><li><p><strong>Account Holder Name Type:</strong> Blank</p></li></ul></li><li><p><strong>Account Holder Organization Details:</strong></p><ul><li><p><strong>Account Holder Organization Name:</strong> <code>'GlobalTech Solutions Ltd.'</code></p></li><li><p><strong>Account Holder Organization Name Type:</strong> Blank</p></li><li><p><strong>Account Holder Preceding Title &amp; Title:</strong> Blank</p></li></ul></li><li><p><strong>Account Holder Personal Details:</strong></p><ul><li><p><strong>Account Holder First Name, Middle Name, Last Name:</strong> Blank (entity account)</p></li></ul></li><li><p><strong>Account Holder Address Details:</strong></p><ul><li><p><strong>Account Holder Address Type:</strong> Blank</p></li><li><p><strong>Account Holder Address Country Code:</strong> <code>'CAY'</code></p></li><li><p><strong>Account Holder Address Free:</strong> <code>'123 Cayman Street, Grand Cayman, KY1-1100'</code></p></li><li><p><strong>Account Holder Birth Date:</strong> Blank</p></li></ul></li><li><p><strong>Substantial U.S. Owner's Information:</strong></p><ul><li><p><strong>Substantial U.S. Owner's Type:</strong> <code>'1'</code> (Individual)</p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Tax Details:</strong></p><ul><li><p><strong>Substantial U.S. Owner Tax Country Code:</strong> <code>'US'</code> (for Maria Garcia and Ahmed Khan)</p></li><li><p><strong>Substantial U.S. Owner / Controlling Person TIN:</strong> <code>'555-55-5555'</code> and <code>'444-44-4444'</code></p></li><li><p><strong>Substantial U.S. Owner / Controlling Person TIN Issued By:</strong> <code>'US'</code></p></li></ul></li><li><p><strong>Substantial U.S. Owner / Controlling Person Personal Details:</strong></p><ul><li><p><strong>First Name:</strong> <code>'Maria'</code>, <code>'Ahmed'</code></p></li><li><p><strong>Middle Name:</strong> <code>'A.'</code>, <code>'B.'</code> (if available)</p></li><li><p><strong>Last Name:</strong> <code>'Garcia'</code>, <code>'Khan'</code></p></li><li><p><strong>Address Free:</strong> <code>'456 U.S. Avenue, New York, NY 10001'</code> (if available)</p></li><li><p><strong>Birth Date:</strong> <code>'1980-05-15'</code> (if available)</p></li></ul></li><li><p><strong>Financial Information:</strong></p><ul><li><p><strong>Account Balance:</strong> <code>€10,000,000</code></p></li><li><p><strong>Account Currency Code:</strong> <code>'EUR'</code></p></li><li><p><strong>Interest:</strong> <code>0</code> (if no interest)</p></li><li><p><strong>Interest Currency Code:</strong> <code>'EUR'</code></p></li><li><p><strong>Dividends:</strong> <code>0</code> (if no dividends)</p></li><li><p><strong>Dividends Currency Code:</strong> <code>'EUR'</code></p></li><li><p><strong>Gross Proceeds_Redemptions:</strong> <code>0</code> (if none)</p></li><li><p><strong>Gross Proceeds_Redemptions Currency Code:</strong> <code>'EUR'</code></p></li></ul></li><li><p><strong>Aggregated Fields:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li><li><p><strong>Other Required Information:</strong></p><ul><li><p><strong>Values:</strong> Blank (<code>''</code>).</p></li></ul></li></ol><hr/><h2 id="Entityaccountholdershandling-FinalRecommendations"><strong>Final Recommendations</strong></h2><ol start="1"><li><p><strong>Data Validation and Cleansing:</strong></p><ul><li><p><strong>Ensure All Required Fields Are Populated:</strong> Validate that essential fields like <code>EntityTIN</code> and SCP TINs are present.</p></li><li><p><strong>Handle Missing Data Appropriately:</strong> Use placeholders or flags for missing information to prevent misclassification.</p></li></ul></li><li><p><strong>Implement Recursive CTEs for Layered Entities:</strong></p><ul><li><p><strong>Capture All Hierarchical Levels:</strong> Ensure that SCPs in parent or subsidiary entities are identified and reported.</p></li></ul></li><li><p><strong>Optimize SQL Performance:</strong></p><ul><li><p><strong>Index Key Columns:</strong> Improve join performance by indexing frequently queried columns.</p></li><li><p><strong>Limit Data Retrieval:</strong> Select only necessary fields to enhance query efficiency.</p></li></ul></li><li><p><strong>Maintain Consistent Naming Conventions:</strong></p><ul><li><p><strong>Standardize Alias Naming:</strong> Use clear and consistent aliases to improve readability and reduce errors.</p></li></ul></li><li><p><strong>Implement Comprehensive Error Handling:</strong></p><ul><li><p><strong>Use TRY...CATCH Blocks:</strong> Gracefully handle and log runtime errors.</p></li><li><p><strong>Log Data Issues:</strong> Track and review records with missing or inconsistent data for remediation.</p></li></ul></li><li><p><strong>Regularly Review and Update Reporting Logic:</strong></p><ul><li><p><strong>Stay Aligned with FATCA Standards:</strong> Ensure that the reporting logic remains compliant with evolving FATCA requirements and IDES 2.0 standards.</p></li></ul></li><li><p><strong>Documentation and Version Control:</strong></p><ul><li><p><strong>Document Mapping and Logic:</strong> Keep detailed records of how each section is populated and the logic applied.</p></li><li><p><strong>Use Version Control Systems:</strong> Track changes to the SQL scripts to facilitate audits and collaborative development.</p></li></ul></li></ol><hr/><h2 id="Entityaccountholdershandling-Conclusion"><strong>Conclusion</strong></h2><p>FATCA reporting for <strong>entity account holders</strong> requires a meticulous approach to ensure that all relevant information is accurately captured and reported. By following the structured approach outlined above, you can effectively populate each section with the necessary details, handle data quality issues, and maintain compliance with FATCA regulations. Implementing the recommended practices will enhance the reliability and integrity of your FATCA reporting processes.</p><p>If you have specific scenarios, data structures, or additional questions related to FATCA reporting for entity account holders, feel free to ask!</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on 18-08-25 20:53</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
